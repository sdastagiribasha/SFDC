<template>
    <h1 style="font-weight:bold;">Example of Pagination</h1>
    <lightning-input label="Search" type="search" value={searchKey} onchange={handleKeyChange}></lightning-input><br/>
    <lightning-card>
    <template if:true={data}>
    <lightning-datatable   data-id="table"
                            key-field="id"
                            data={data}
                            columns={columns}
                            sorted-by={sortBy}
                            sorted-direction ={sortedDirection}
                            onrowselection={onRowSelection}
                            selected-rows={allSelectedRows}
                            onsort={sortColumns}
                            show-row-number-column>
        </lightning-datatable>
    </template>
    <template if:true={error}>
        {error}
    </template>

    <lightning-layout horizontal-align="space">
        <lightning-layout-item flexibility="auto">
            <lightning-button label="Previous" icon-name="utility:chevronleft" onclick={previousHandler}></lightning-button>
        </lightning-layout-item>

        <lightning-layout-item flexibility="auto">
            Page {page} of {totalPage}
        </lightning-layout-item>

        <lightning-layout-item flexibility="auto">
            <lightning-button label="Next" icon-name="utility:chevronright" icon-position="right" onclick={nextHandler}></lightning-button>
        </lightning-layout-item>
        
    </lightning-layout>    
</lightning-card>
</template>